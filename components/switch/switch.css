/* --------------------
 * Switch native styles
 * Made par Alsacréations
 * -------------------- */

:where([role="switch"]) {
  --switch-width: 2.5rem;
  --switch-height: 1.5rem;
  --switch-thumb-size: calc(var(--switch-height) - 4px);
  --switch-track-color: var(--color-gray-300, #d1d5db);
  --switch-track-color-checked: var(--primary, #3b82f6);
  --switch-thumb-color: var(--color-white, #ffffff);
  --switch-border-radius: var(--radius-full, 9999px);
}

[role="switch"] {
  position: relative;
  width: var(--switch-width);
  height: var(--switch-height);
  margin: 0;
  padding: 0;
  transition:
    background-color 0.3s,
    border-color 0.3s;
  border: 2px solid var(--switch-track-color);
  border-radius: var(--switch-border-radius);
  background-color: var(--switch-track-color);
  cursor: pointer;
  appearance: none;

  /* Indicateur du switch */
  &::after {
    content: "";
    position: absolute;
    top: 2px;
    left: 2px;
    width: var(--switch-thumb-size);
    height: var(--switch-thumb-size);
    transition: translate 0.3s;
    border-radius: var(--switch-border-radius);
    background-color: var(--switch-thumb-color);
    box-shadow: 0 2px 4px rgb(0 0 0 / 20%);
  }

  /* État activé */
  &:checked {
    border-color: var(--switch-track-color-checked);
    background-color: var(--switch-track-color-checked);

    &::after {
      translate: calc(var(--switch-width) - var(--switch-height)) 0;
    }
  }

  /* État désactivé */
  &:disabled {
    opacity: 50%;
    cursor: not-allowed;

    &::after {
      box-shadow: none;
    }
  }

  /* Effets hover et active */
  &:not(:disabled) {
    &:hover::after {
      box-shadow: 0 2px 8px rgb(0 0 0 / 30%);
    }

    &:active::after {
      scale: 0.95;
    }
  }
}

/* Support pour les labels des switches désactivés */
.form-group:has([type="checkbox"][role="switch"]:disabled) label {
  opacity: 50%;
  cursor: not-allowed;
}
